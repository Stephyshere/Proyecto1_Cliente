:root {
    --bg-1: #E6C2E3; --bg-2: #D8A9D5; --purple: #9B59B6;
    --font: 'Varela Round', sans-serif;
}
body {
    font-family: var(--font);
    background: linear-gradient(45deg, var(--bg-1), #C99BC6, var(--bg-2));
    background-size: 400% 400%; animation: g 8s ease infinite;
    display: flex; justify-content: center; align-items: center;
    min-height: 100vh; margin: 0; overflow: hidden;
}
@keyframes g { 0%,100%{background-position:0% 50%} 50%{background-position:100% 50%} }

.layout-juego {
    display: grid; grid-template-columns: 260px 1fr 260px; gap: 20px;
    width: 95%; max-width: 1400px; height: 90vh;
}

.columna-lateral {
    background: rgba(255,255,255,0.5); backdrop-filter: blur(10px);
    border: 2px solid #fff; border-radius: 20px; padding: 20px;
    display: flex; flex-direction: column; overflow-y: auto;
}

.columna-central { display: flex; justify-content: center; align-items: center; }

.consola-juego {
    background: #fff; width: 100%; height: 100%; border-radius: 30px;
    border: 8px solid var(--purple); padding: 20px;
    display: flex; flex-direction: column; align-items: center;
    justify-content: space-between; position: relative;
}

/* --- NUEVO: Cuadro de Estado --- */
.cuadro-estado {
    width: 60px; height: 60px;
    border: 3px solid var(--purple);
    border-radius: 10px;
    background: #f0f0f0;
    overflow: hidden;
}
.cuadro-estado img { width: 100%; height: 100%; object-fit: cover; }

/* ------------------------------- */

.perfil-info { text-align: center; border-bottom: 2px dashed var(--purple); margin-bottom: 10px; }
.avatar { font-size: 3rem; }
.badge-admin { background: gold; color: #000; padding: 2px 5px; border-radius: 5px; font-weight: bold; font-size: 0.8rem; display:inline-block;}

.item-historial {
    background: rgba(255,255,255,0.7); padding: 8px; margin-bottom: 5px; border-radius: 8px;
    font-size: 0.85rem; display: flex; justify-content: space-between;
}
.vivo { border-left: 4px solid #F53B82; }
.muerto { border-left: 4px solid #555; filter: grayscale(1); opacity: 0.8; }

.pantalla-visual { flex-grow: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; width: 100%; }
.img-gato-principal { max-height: 250px; max-width: 100%; object-fit: contain; filter: drop-shadow(0 5px 5px rgba(0,0,0,0.1)); }

.globo-texto {
    background: #fff; border: 2px solid #333; padding: 10px;
    border-radius: 15px; margin-bottom: 10px; text-align: center;
}

/* --- GRID BOTONES CORREGIDO --- */
.grid-acciones { 
    display: grid; 
    grid-template-columns: repeat(3, 1fr); /* 3 Columnas iguales */
    gap: 8px; 
    width: 100%; 
}
.grid-acciones form { 
    width: 100%; 
    display: flex; /* Asegura que el botón llene el form */
}
.btn-accion {
    width: 100%; /* Forzar ancho completo */
    padding: 10px; border: none; border-radius: 10px;
    background: var(--purple); color: white; font-weight: bold; cursor: pointer;
    white-space: nowrap; /* Evita que el texto rompa el botón */
}
/* ------------------------------- */

.btn-accion:hover { filter: brightness(1.1); }
.gris { background: #95a5a6; }
.admin-kill { background: red; } .admin-heal { background: gold; color: black; }

.stats-barras { width: 90%; margin-bottom: 10px; }
progress { width: 100%; height: 10px; border-radius: 5px; }
.prog-salud { accent-color: #e74c3c; } .prog-afecto { accent-color: #9b59b6; }

.grid-logros { display: grid; grid-template-columns: repeat(auto-fill, minmax(60px, 1fr)); gap: 10px; }
.logro-item {
    aspect-ratio: 1; background: rgba(255,255,255,0.6); border-radius: 10px;
    display: flex; align-items: center; justify-content: center; position: relative;
}
.logro-item img { width: 80%; }
.bloqueado { filter: grayscale(1) opacity(0.5); }
.desbloqueado { border: 2px solid gold; background: #fff; filter: none; }

.tooltip {
    display: none; position: absolute; bottom: 100%; left: 50%; transform: translateX(-50%);
    background: #333; color: #fff; padding: 5px; border-radius: 5px; font-size: 0.7rem; width: 120px; text-align: center; z-index: 100;
}
.logro-item:hover .tooltip { display: block; }
.btn-rojo { background: #e74c3c; color: white; padding: 10px; border-radius: 10px; text-decoration: none; display: block; text-align: center; font-weight: bold; }